# binance-transactions

å¸å®‰äº¤æ˜“è®°å½•åˆ†æå™¨ï¼Œç”¨äºåˆ†æå¸å®‰è´¦æˆ·çš„äº¤æ˜“è®°å½•å¹¶æ•´ç†æˆpyfolioæ ¼å¼ã€‚

## åŠŸèƒ½ç‰¹æ€§

1. è¯»å–äº¤æ˜“è®°å½•
2. ğŸ“ˆ æ•´ç†returns, transactions, positionsæ•°æ®ï¼Œç¬¦åˆpyfolioæ ¼å¼ 
3. ğŸ’¾ è‡ªåŠ¨ä¿å­˜æ•°æ®åˆ°CSVæ–‡ä»¶
4. ğŸ“‹ è¯¦ç»†çš„æ—¥å¿—è®°å½•å’Œé”™è¯¯å¤„ç†


## å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```


**Python 3.10å…¼å®¹æ€§è¯´æ˜**ï¼š
- æœ¬é¡¹ç›®å·²é’ˆå¯¹Python 3.10.10è¿›è¡Œä¼˜åŒ–
- pyfolioåº“ä¸Python 3.10+å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼Œå·²ç§»é™¤
- ç¨‹åºä»ä¼šç”Ÿæˆç¬¦åˆpyfolioæ ¼å¼çš„CSVæ–‡ä»¶ï¼Œå¯ç”¨äºå…¶ä»–åˆ†æå·¥å…·
- æ¨èä½¿ç”¨quantstatsä½œä¸ºpyfolioçš„æ›¿ä»£æ–¹æ¡ˆè¿›è¡ŒæŠ•èµ„ç»„åˆåˆ†æ

**æ³¨æ„**ï¼šå¦‚æœé‡åˆ°ä¾èµ–å®‰è£…é—®é¢˜ï¼Œè¯·å°è¯•å‡çº§pipï¼š
```bash
pip install --upgrade pip
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

```bash
python analysis_binance_transactions_3.py
```

### å…¼å®¹æ€§æµ‹è¯•

åœ¨è¿è¡Œä¸»ç¨‹åºä¹‹å‰ï¼Œå»ºè®®å…ˆè¿è¡Œå…¼å®¹æ€§æµ‹è¯•ï¼š

```bash
python test_compatibility.py
```

è¿™å°†éªŒè¯Python 3.10å…¼å®¹æ€§å’Œæ‰€æœ‰ä¾èµ–æ˜¯å¦æ­£ç¡®å®‰è£…ã€‚

## è¯»å–äº¤æ˜“è®°å½•
1. äº¤æ˜“è®°å½•ä¿å­˜åœ¨æ ¹ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åä¸º`58f7aff0-e0a5-11f0-a3f8-069f3b29e123-1.csv`
2. è¯»å–äº¤æ˜“è®°å½•ï¼Œå­—æ®µè¯´æ˜ï¼š
"User_ID","UTC_Time","Account","Operation","Coin","Change","Remark"
Account äº¤æ˜“è´¦æˆ·åˆ†ä¸ºSpotï¼ŒSpot Leadï¼ŒUSD-M Futuresï¼Œèµ„é‡‘è´¦æˆ·ä¸ºFunding
Operationï¼š 
Transaction Spend æŒ‡ä¹°å…¥æ—¶çš„èŠ±è´¹ï¼Œ Revenue æŒ‡å–å‡ºæ—¶æ”¶å…¥ï¼ŒTransaction Spend USDT changeæŒ‡ä¹°å…¥æ—¶èŠ±è´¹çš„é‡‘é¢ï¼ŒTransaction Revenue USDT changeæŒ‡å–å‡ºæ—¶æ”¶åˆ°çš„é‡‘é¢ã€‚
Transaction Buy æŒ‡ä¹°å…¥çš„æ•°é‡ï¼ŒTransaction Sold æŒ‡å–å‡ºçš„æ•°ç›®ï¼ŒTransaction Buy BTC change æŒ‡ä¹°å…¥æ¯”ç‰¹å¸æ•°é‡ï¼ŒTransaction Sold BTC change æŒ‡å–å‡ºæ¯”ç‰¹å¸æ•°é‡ã€‚
Coin: BTCæŒ‡äº¤æ˜“èµ„äº§æ¯”ç‰¹å¸ï¼ŒUSDTæŒ‡ç°é‡‘ã€‚

## è¯»å–æ¯”ç‰¹å¸ä»·æ ¼
1. è·å–æ¯”ç‰¹å¸ä»·æ ¼ï¼Œä¿å­˜åœ¨æ ¹ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åä¸º`btc_prices.csv`
2. è·å–æ¯”ç‰¹å¸ä»·æ ¼ï¼Œå­—æ®µè¯´æ˜ï¼š
date,datetime,open_price,high_price,low_price,close_price,volume_btc,volume_usdt,trade_count,taker_buy_volume_btc,taker_buy_volume_usdt,price_change,price_change_abs,high_low_ratio,volume_ratio,ma_7,ma_30,ma_90

## è¾“å‡ºæ–‡ä»¶

ç¨‹åºè¿è¡Œåä¼šç”Ÿæˆä»¥ä¸‹CSVæ–‡ä»¶ï¼š

- `transactions_pyfolio.csv` - äº¤æ˜“è®°å½•ï¼ˆpyfolioæ ¼å¼ï¼‰
- `positions_pyfolio.csv` - æŒä»“ä¿¡æ¯ï¼ˆpyfolioæ ¼å¼ï¼‰
- `returns_pyfolio.csv` - æ”¶ç›Šç‡åºåˆ—ï¼ˆpyfolioæ ¼å¼ï¼‰
- `binance_trader.log` - è¿è¡Œæ—¥å¿—

## æ•°æ®æ ¼å¼

### äº¤æ˜“è®°å½•æ ¼å¼
| date | txn_volume | txn_shares |
|------|--------|--------|
transactions.tail()
	txn_volume	txn_shares
2009-12-24 00:00:00+00:00	29064.589481	1381
2009-12-28 00:00:00+00:00	8794.514054	405
2009-12-29 00:00:00+00:00	49996.978324	1765
2009-12-30 00:00:00+00:00	157158.874704	9233
2009-12-31 00:00:00+00:00	189609.809608	11946

### äº¤æ˜“è®°å½•å­—æ®µè¯´æ˜
åªè®°å½•äº¤æ˜“æ¯”ç‰¹å¸çš„æ•°æ®ã€‚
txn_volume ï¼šäº¤æ˜“æ¯”ç‰¹å¸çš„USDTé‡‘é¢ï¼Œä¹°å…¥æ—¶ä¸ºæ­£ï¼Œtxn_volume = - Transaction Spend USDT changeï¼Œå–å‡ºæ—¶ä¸ºè´Ÿï¼Œtxn_volume = - Transaction Revenue USDT change
txn_shares ï¼šäº¤æ˜“æ¯”ç‰¹å¸çš„æ•°é‡ï¼Œä¹°å…¥æ—¶ä¸ºæ­£ï¼Œtxn_shares = Transaction Buy BTC changeï¼Œå–å‡ºæ—¶ä¸ºè´Ÿï¼Œtxn_shares = Transaction Sold BTC change

### æŒä»“ä¿¡æ¯æ ¼å¼

positions.tail()
	BTC	cash
index								
2009-12-24 00:00:00+00:00	17288.084400	261.648675
2009-12-28 00:00:00+00:00	17039.652084	-46.731967
2009-12-29 00:00:00+00:00	18547.461768	-153.847015
2009-12-30 00:00:00+00:00	26018.584921	-1705.100847
2009-12-31 00:00:00+00:00	20816.10101		-944.218331

### æŒä»“ä¿¡æ¯å­—æ®µè¯´æ˜
BTC	cashï¼šå„ç§èµ„äº§çš„ä»·å€¼ï¼Œå¤šä»“çš„èµ„äº§ä»·å€¼ä¸ºæ­£ï¼Œç©ºä»“èµ„äº§ä»·å€¼ä¸ºè´Ÿ

### æ”¶ç›Šç‡æ ¼å¼
| date | return |
|------|--------|
returns.tail()
2009-12-24 00:00:00+00:00    0.000989
2009-12-28 00:00:00+00:00    0.008174
2009-12-29 00:00:00+00:00    0.007428
2009-12-30 00:00:00+00:00    0.002472
2009-12-31 00:00:00+00:00   -0.018984
Name: returns, dtype: float64

### æ”¶ç›Šç‡å­—æ®µè¯´æ˜
returnï¼šæ—¥æ”¶ç›Šç‡ï¼Œæ— ç™¾åˆ†å·çš„æ•°å€¼

```

## æ³¨æ„äº‹é¡¹

âš ï¸ **é‡è¦æé†’**

- æœ¬ç¨‹åºä»…ç”¨äºå­¦ä¹ äº¤æµï¼Œè¯·å‹¿ç”¨äºéæ³•ç”¨é€”ã€‚
- æœ¬ç¨‹åºä¸ä¿è¯æ•°æ®çš„å‡†ç¡®æ€§ï¼Œä½¿ç”¨æœ¬ç¨‹åºäº§ç”Ÿçš„ä»»ä½•åæœç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…ã€‚
- æœ¬ç¨‹åºä¸ä¿è¯æ•°æ®çš„å®æ—¶æ€§ï¼Œæ•°æ®å¯èƒ½ä¼šæœ‰ä¸€å®šçš„å»¶è¿Ÿã€‚


## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

 **ä¾èµ–å®‰è£…å¤±è´¥**
   - æ›´æ–°pip: `pip install --upgrade pip`
   - ä½¿ç”¨å›½å†…é•œåƒæº: `pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt`

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ã€‚

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ã€‚
